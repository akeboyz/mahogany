# Conversation Log - 01-10-25

## Summary
Fixed white gap issue for shop product pages, updated delivery.json to copy dining shops, renamed business image files to match IDs, updated menu for pastry shop, added Google Maps URLs, updated banners for different product types, and removed some daily services.

## Tasks Completed

### 1. Fixed White Gap for Shop Product Pages
**Issue:** Shop product pages had white gap above bottom banner, unlike condo units which had full-screen image background.

**Root Cause:** CSS selector `.theme-unit #productContent` had `height: 100%` and flex properties, but shops didn't have this styling.

**Fix:** Changed selector from `.theme-unit #productContent` to just `#productContent` so all product types get full-height styling.

**File:** `product.html` line 1562

### 2. Copied Dining Shops to Delivery
**Task:** Copy all dine shops (dine001-dine003) to replace delivery shops in delivery.json, keeping same images.

**Changes:**
- Replaced all entries in `delivery.json` with copies from `dining.json`
- Changed IDs from `dine001`, `dine002`, `dine003` to `del001`, `del002`, `del003`

**Files:** `data/delivery.json`

### 3. Fixed Shop Names in Category Page
**Issue:** Category page for delivery was showing IDs instead of shop names.

**Fix:** Updated data transformation to check `item.name_th` first before falling back to `item.name`:
```javascript
item.name_th = item.name_th || item.name || '';
item.name_en = item.name_en || item.name || '';
```

**File:** `category.html` lines 478-479

### 4. Renamed Business Image Files
**Task:** Rename image files in `images/businesses/` from serv/shop prefixes to match real IDs (od/daily).

**Renamed:**
- `serv03_interior.jpg` → `od003_interior.jpg`
- `od003_logo - .png` (with weird spaces) → `od003_logo.png`

**Updated JSON references:**
- `ondemand.json` od003: Updated logo and images paths

**Note:** `serv04_*` and `shop*` files not used in any JSON, left as-is.

### 5. Fixed Interior Images for od001 and od002
**Issue:** od001 and od002 were using wrong image paths (`images/aquamx-ads01.jpg` instead of interior images).

**Fix:** Updated both entries to use proper interior images:
- od001: `images/businesses/od001_interior.jpg`
- od002: `images/businesses/od002_interior.jpg`

**File:** `data/ondemand.json`

### 6. Banner Images by Product Type
**Requirement:** Use different banner images based on product type:
- Condo units: `aquamax_banner02.jpg`
- All shops (delivery, dining, ondemand, daily, restaurant): `aquamax_banner01.jpg`

**Implementation:** Added logic in `renderProduct()` function to set banner dynamically:
```javascript
const bannerImage = document.getElementById('bottomBannerImage');
if (productType === 'unit') {
  bannerImage.src = './images/system/banners/aquamax_banner02.jpg';
} else {
  bannerImage.src = './images/system/banners/aquamax_banner01.jpg';
}
```

**File:** `product.html` lines 2019-2026

### 7. Updated Pastry Shop (dine001)
**Task:** Change dine001 from Thai restaurant to proper pastry shop with menu.

**Changes:**
- Category: "Thai Restaurant" → "Bakery & Pastry Shop"
- Location: "2nd floor, Food Court zone" → "1st floor, Bakery zone"
- LINE: "@jedaeng" → "@ninepastry"
- Added 6 menu items with images:
  - **Breads:** Sourdough Bread (฿180), Baguette (฿120)
  - **Pastries:** Croissant (฿85), Pain au Chocolat (฿95), Almond Tart (฿110)
  - **Cakes:** Chocolate Cake (฿150)
- Updated promotion to match pastry products

**File:** `data/dining.json`

### 8. Added Google Maps for Dining Shops
**Task:** Add Google Maps URL `https://maps.app.goo.gl/sTtEE5dxqzAXAUmS6` to dine001, dine002, and dine003.

**Updated:** All three entries now have:
- `map_url`: `https://maps.app.goo.gl/sTtEE5dxqzAXAUmS6`
- `map_embed_url`: Updated with proper embed parameters

**File:** `data/dining.json`

### 9. Removed Daily Services
**Task:** Remove 7-Eleven (daily001) and Big C Supermarket (daily004) from daily services.

**Remaining Services:**
- daily002: Watsons Pharmacy
- daily003: Pet Lover Pet Shop
- daily005: Clean Master Laundry
- daily006: Bloom Garden Flower Shop

**File:** `data/daily.json`

### 10. Loading Screen Color (Reverted)
**Attempted:** Change loading screen from black to white background.
**Result:** User reported it looked the same, so reverted back to black.
**File:** `index.html` (no permanent change)

## Files Modified
1. `public/deploy/prj003/product.html`
2. `public/deploy/prj003/category.html`
3. `public/deploy/prj003/data/delivery.json`
4. `public/deploy/prj003/data/ondemand.json`
5. `public/deploy/prj003/data/dining.json`
6. `public/deploy/prj003/data/daily.json`
7. `public/deploy/prj003/images/businesses/` (renamed files)

## Issues Noted
- dine001 menu may not show immediately due to browser cache (advised user to hard refresh with Ctrl+Shift+R)
- User asked to copy menu from dine003 to dine001, but investigation showed dine003 also has no menu in JSON (conversation ended before resolution)

## Technical Notes
- Full-screen image background now works consistently across all product types
- Logo file naming now consistent with ID scheme (od001, od002, od003)
- Banner system now dynamically switches based on product type
- Category page properly displays Thai/English names for all shop types
